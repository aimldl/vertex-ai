Search.setIndex({"alltitles": {"$ sinfo": [[17, "id1"]], "1. Introduction": [[2, null]], "1. Updating Content": [[0, "updating-content"]], "2-1. Conda Environment: Create and Activate": [[4, null]], "2-3. Create a New Project": [[12, null]], "2-3. Start using the Google Cloud SDK": [[6, null]], "2-4. Update Google Cloud SDK": [[7, null]], "2-6. Create a New Project": [[9, null]], "2-7. Set the Billing Account for Project": [[10, null]], "2. Building the Book": [[0, "id1"]], "2. Set up the Environment": [[3, null]], "2.2. Install Google Cloud SDK": [[5, null]], "2_5. Initialize the Google Cloud SDK (gcloud CLI)": [[8, null]], "3. Connecting to a VM via SSH": [[11, null]], "3. Pushing Changes to the Remote Repository": [[0, "pushing-changes-to-the-remote-repository"]], "4. Getting Started with Vertex AI": [[13, null]], "4. Publishing the Book": [[0, "publishing-the-book"]], "4. Serving LLMs": [[29, null]], "5. Slurm Essentials for Cluster Toolkit and Vertex AI Infinipod": [[14, null]], "5.1. Getting Started with a Slurm Cluster": [[15, null]], "5.2. Frequently Used Client Commands": [[16, null]], "5.3. sinfo": [[17, null]], "5.4. squeue": [[18, null]], "5.5. sbatch": [[19, null]], "5.6. srun": [[20, null]], "6. Google Cluster Toolkit": [[21, null]], "6.1. Getting Started with Cluster Toolkit": [[22, null]], "6.3.": [[28, null]], "6.3. Run a job on the HPC cluster": [[24, null]], "6.4. Deploy AI/ML Workloads on A3 Mega Slurm Cluster": [[25, null]], "6.5. Run NCCL test": [[26, null]], "6.6.": [[27, null]], "A Practical Guide to Machine Learning with Google Cloud (WIP)": [[0, null]], "A3 Mega Slurm cluster overview": [[25, "a3-mega-slurm-cluster-overview"]], "Activate the New Conda Environment": [[4, "activate-the-new-conda-environment"]], "An example cluster with 16 worker nodes": [[17, "an-example-cluster-with-16-worker-nodes"]], "An example cluster with 32 worker nodes": [[17, "an-example-cluster-with-32-worker-nodes"]], "An example cluster with 64 worker nodes": [[17, "an-example-cluster-with-64-worker-nodes"]], "Build NCCL test binaries": [[26, "build-nccl-test-binaries"]], "Build the Cluster Toolkit binary": [[22, "build-the-cluster-toolkit-binary"]], "Building the Book": [[0, "building-the-book"]], "Check the current version.": [[7, "check-the-current-version"]], "Check the output": [[19, "check-the-output"]], "Clone the Cluster Toolkit GitHub repository": [[22, "clone-the-cluster-toolkit-github-repository"]], "Commands-in-action": [[22, "commands-in-action"], [26, "commands-in-action"]], "Create a New Conda Environment": [[4, "create-a-new-conda-environment"]], "Create an enroot container": [[25, "create-an-enroot-container"]], "Create run-nccl-tests.sh with a text editor": [[26, "create-run-nccl-tests-sh-with-a-text-editor"]], "Deploy an A3 Mega Slurm cluster for ML training": [[25, "deploy-an-a3-mega-slurm-cluster-for-ml-training"]], "Deploy an HPC cluster with Slurm": [[22, "deploy-an-hpc-cluster-with-slurm"]], "Deploy the HPC cluster using Terraform": [[23, null]], "Double-check if the gcloud command has already been installed.": [[5, "double-check-if-the-gcloud-command-has-already-been-installed"]], "Double-check the updated version numbers": [[7, "double-check-the-updated-version-numbers"]], "Double-check to see if a Slurm cluster is deployed.": [[23, "double-check-to-see-if-a-slurm-cluster-is-deployed"]], "Download and install Google Cloud SDK": [[5, "download-and-install-google-cloud-sdk"]], "Enable GPUDirect-TCPXO optimized NCCL communication": [[25, "enable-gpudirect-tcpxo-optimized-nccl-communication"]], "Error without the NCCL test binaries": [[26, "error-without-the-nccl-test-binaries"]], "Example commands": [[6, "example-commands"]], "Example output": [[8, "example-output"]], "Examples with unhealthy conditions": [[17, "examples-with-unhealthy-conditions"]], "Examples: healthy conditions": [[17, "examples-healthy-conditions"]], "Fixing the Permission denied (publickey) error": [[11, "fixing-the-permission-denied-publickey-error"]], "Google Cluster Toolkit (formerly HPC Toolkit)": [[21, "google-cluster-toolkit-formerly-hpc-toolkit"]], "Hint": [[12, "hint"]], "I. Environment Set-up": [[31, null]], "II. Getting Started with Vertex AI": [[31, null]], "III. Serving LLMs": [[31, null]], "Idle": [[18, "idle"]], "Introducing Google Cloud SDK": [[5, "introducing-google-cloud-sdk"]], "Jupyter Book Official Documents": [[0, "jupyter-book-official-documents"]], "Prerequisite": [[11, "prerequisite"]], "Prerequisite: the Go programming language": [[22, "prerequisite-the-go-programming-language"]], "Problem": [[12, "problem"]], "Purpose": [[31, "purpose"]], "Purpose: Just enough to use Slurm": [[14, "purpose-just-enough-to-use-slurm"]], "References": [[0, "references"]], "Run a command in a Docker container.": [[19, "run-a-command-in-a-docker-container"]], "Run the gcloud components update command": [[7, "run-the-gcloud-components-update-command"]], "Sample output": [[26, "sample-output"]], "Scope: Slurm > Doc. > Slurm Users": [[14, "scope-slurm-doc-slurm-users"]], "Setting up this Jupyter Book project": [[0, "setting-up-this-jupyter-book-project"]], "Slurm (Simple Linux Utility for Resource Management)": [[14, "slurm-simple-linux-utility-for-resource-management"]], "Submit the script.": [[26, "submit-the-script"]], "TODO": [[1, null]], "TODO:": [[12, "todo"]], "Table of Content": [[31, "table-of-content"]], "Test": [[30, null]], "Useful Resource: Books": [[1, "useful-resource-books"]], "Useful Resource: Official Documentation": [[2, "useful-resource-official-documentation"]], "Vertex AI": [[31, null]], "Vertex AI: Classic ML + Generative AI": [[2, "vertex-ai-classic-ml-generative-ai"]], "gcloud compute config-ssh": [[11, "gcloud-compute-config-ssh"]], "gcloud compute os-login ssh-keys add --key-file=$HOME/.ssh/google_compute_engine.pub --project=$PROJECT_ID": [[11, "gcloud-compute-os-login-ssh-keys-add-key-file-home-ssh-google-compute-engine-pub-project-project-id"]], "gcloud init": [[8, "gcloud-init"]], "ssh-keygen": [[11, "ssh-keygen"]], "test-hostname.sh": [[19, "test-hostname-sh"]], "test-sbatch.sh": [[19, "test-sbatch-sh"]], "vertex failed": [[8, "vertex-failed"]]}, "docnames": ["README", "TODO", "_I/1-introduction", "_I/2_0-set_up_environment", "_I/2_1-conda_environment", "_I/2_2-install_google_cloud_sdk", "_I/2_3-start_using_the_google_cloud_sdk", "_I/2_4-update_google_cloud_sdk", "_I/2_5-initialize_the_google_cloud_sdk_gcloud_cli", "_I/2_6-create_a_new_project", "_I/2_7-set_the_billing_account_for_project", "_I/3_0-connecting_to_a_vm_via_ssh", "_I/TODO 2_3-create_a_new_project", "_II/4_0-getting_started_with_vertex-ai", "_II/5_0-slurm_essentials_for_cluster_toolkit_and_vertex_ai_infinipod", "_II/5_1-getting_started_with_a_slurm_cluster", "_II/5_2-frequently_used_client_commands", "_II/5_3-sinfo", "_II/5_4-squeue", "_II/5_5-sbatch", "_II/5_6-srun", "_II/6_0-cluster_toolkit", "_II/6_1-getting_started_with_cluster_toolkit", "_II/6_2-deploy_the_hpc_cluster_using_terraform", "_II/6_3-run_a_job_on_the_hpc_cluster", "_II/6_4-deploy_ai_ml_workloads", "_II/6_5-run_nccl_test", "_II/6_6-", "_II/6_7-", "_III/4_0-serving_llms", "_III/4_1-simple_example", "index", "temp"], "envversion": {"sphinx": 64, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinxcontrib.bibtex": 9}, "filenames": ["README.md", "TODO.md", "_I/1-introduction.md", "_I/2_0-set_up_environment.md", "_I/2_1-conda_environment.md", "_I/2_2-install_google_cloud_sdk.md", "_I/2_3-start_using_the_google_cloud_sdk.md", "_I/2_4-update_google_cloud_sdk.md", "_I/2_5-initialize_the_google_cloud_sdk_gcloud_cli.md", "_I/2_6-create_a_new_project.md", "_I/2_7-set_the_billing_account_for_project.md", "_I/3_0-connecting_to_a_vm_via_ssh.md", "_I/TODO 2_3-create_a_new_project.md", "_II/4_0-getting_started_with_vertex-ai.md", "_II/5_0-slurm_essentials_for_cluster_toolkit_and_vertex_ai_infinipod.md", "_II/5_1-getting_started_with_a_slurm_cluster.md", "_II/5_2-frequently_used_client_commands.md", "_II/5_3-sinfo.md", "_II/5_4-squeue.md", "_II/5_5-sbatch.md", "_II/5_6-srun.md", "_II/6_0-cluster_toolkit.md", "_II/6_1-getting_started_with_cluster_toolkit.md", "_II/6_2-deploy_the_hpc_cluster_using_terraform.md", "_II/6_3-run_a_job_on_the_hpc_cluster.md", "_II/6_4-deploy_ai_ml_workloads.md", "_II/6_5-run_nccl_test.md", "_II/6_6-.md", "_II/6_7-.md", "_III/4_0-serving_llms.md", "_III/4_1-simple_example.md", "index.md", "temp.md"], "indexentries": {}, "objects": {}, "objnames": {}, "objtypes": {}, "terms": {"": [0, 2, 5, 11, 14, 17, 18, 20, 22, 26], "0": [5, 7, 8, 15, 16, 17, 18, 19, 20, 22, 23, 24, 25, 26], "00": [5, 17, 26], "01": [5, 19, 26], "02": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31], "03": [5, 26], "04": [2, 3, 4, 5, 6, 7, 8, 9, 12, 13, 22, 25, 26, 29, 30, 31], "05": [1, 2, 3, 4, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28], "08": [20, 24], "09": [0, 5, 6, 7, 8, 11], "1": [5, 8, 19, 20, 24, 25, 26, 31], "10": [14, 15, 16, 18, 19, 20, 21, 22, 26], "100": [5, 22, 26], "1048576": 26, "1058": 26, "1061": 26, "107": 26, "1073741824": 26, "10816": 26, "10822": 26, "11": [0, 19, 23, 24, 25, 26, 27, 28, 31], "11451210": 25, "118": 26, "11998157": 25, "12": [0, 5, 17, 26, 31], "123": 25, "126": 26, "128": 26, "13": [17, 26], "131": 22, "131072": [25, 26], "134217728": 26, "138": 26, "14": [17, 19, 20, 24, 26], "141m": 5, "147": 26, "1472": 22, "15": [14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28], "150": 26, "151": 26, "154": 22, "157": 26, "16": [19, 22, 23, 25, 26], "160": 26, "1670": 26, "1672": 26, "16731": 25, "16777216": 26, "1684": 25, "17": 17, "17132710": 25, "17285": 25, "175": 26, "176": 26, "1783": 19, "1784": 19, "1785": [20, 24], "1786": 26, "1790": 26, "1791": 19, "1791_1": 19, "1791_10": 19, "1791_2": 19, "1791_3": 19, "1791_4": 19, "1791_5": 19, "1791_6": 19, "1791_7": 19, "1791_8": 19, "1791_9": 19, "18": 17, "182": 26, "186": 26, "187": 26, "188": 26, "19": [17, 25], "19240183": 25, "194": 26, "198": 26, "1cot": [15, 16], "2": [8, 17, 19, 22, 26, 31], "200": 26, "201": 26, "202": 22, "2024": [0, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 31], "2025": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31], "2048": 11, "208": 25, "2097152": 26, "21": [22, 26], "21414": 26, "21431": 26, "2147483648": 26, "22": [17, 26, 29], "222": 26, "23": 22, "23m": 22, "24": [19, 25, 26], "25": 26, "258": 26, "262": 26, "262144": 26, "268435456": 26, "27": 26, "2858": 26, "2865": 26, "3": [5, 8, 19, 20, 23, 26, 31], "30": 8, "306": 26, "309": 26, "31": [5, 7, 17, 18], "319555": 25, "32": 18, "33": [5, 7, 25, 26], "33406": 25, "33554432": 26, "34": [17, 25], "35": [17, 22], "354645": 25, "36": 17, "37": [5, 26], "38": 26, "39": [17, 25, 26], "396": 26, "3a": 19, "3a_": 19, "4": [17, 19, 22, 23, 26, 31], "40": [17, 26], "4022": 25, "409": 8, "41": [17, 26], "4118931": 25, "412": 26, "413": 26, "4194304": 26, "42610": 26, "42637": 26, "4294967296": 26, "43": 26, "44": 25, "4416": 25, "444": 18, "4522472": 25, "457": 26, "458": 26, "46": 22, "47": 26, "48": 25, "49": [25, 26], "498": 7, "4mb": 22, "5": [5, 7, 31], "50": 26, "509": [5, 7], "52": [25, 26], "524288": 26, "53": 26, "53409": 25, "536870912": 26, "55": 26, "5513": 26, "5516": 26, "56": 26, "58": 26, "59": 26, "6": [8, 17, 31], "61": 17, "62": 26, "63": [17, 26], "64": 4, "65329": 22, "66": 26, "667": 26, "670": 26, "67108864": 26, "68": 26, "7": [19, 22, 26], "70": 22, "710091": 26, "73": 26, "73643139": 22, "75": 26, "78": 26, "7m": 5, "8": [5, 17, 22, 26], "80": 25, "817": 26, "82": 26, "8388608": 26, "84": 26, "8589934592": 26, "88": 26, "89": [25, 26], "8g": [25, 26], "8m": 26, "9": [8, 19, 26], "90": 26, "93": 26, "94": 26, "99": 26, "A": [5, 18, 19, 23, 26], "AS": 26, "And": [8, 19], "As": [2, 25, 26], "For": [0, 5, 6, 11, 12, 19, 21], "If": [5, 11, 23], "In": [20, 24], "It": 11, "OF": 26, "OR": 26, "That": [11, 18], "The": [0, 1, 2, 5, 8, 11, 12, 14, 17, 18, 19, 22, 23, 25, 26], "There": 1, "These": 26, "To": [4, 5, 19, 22, 23, 25], "With": 2, "_build": 0, "a3m123": [11, 17, 19, 20, 23, 24, 25, 26], "a3mega": [17, 19, 20, 23, 24, 26], "a3meganodeset": [17, 19, 20, 23, 24, 26], "a3p": [17, 18], "a3pnodeset": [17, 18], "about": [2, 8, 18, 22], "abov": 23, "acat": 12, "acceler": 22, "access": [8, 11, 26], "accord": 5, "account": [8, 11, 12], "across": 14, "action": 17, "activ": 0, "ad": 11, "add": [0, 6, 12, 22], "addit": [5, 8, 11, 25], "admin": [8, 11], "administr": [11, 14, 17], "advanc": 8, "after": [5, 16, 17, 26], "again": [11, 22], "agre": 26, "ai": [0, 1, 5, 8, 21], "aim": [14, 31], "aimldl": 0, "algbw": 26, "all": [0, 1, 18, 19, 22, 26], "all_gath": 26, "all_gather_perf": 26, "all_reduc": 26, "all_reduce_perf": 26, "alloc": [17, 19], "allow": [8, 11, 26], "allow_al": 32, "alltoal": 26, "alltoall_perf": 26, "allvalu": 32, "alreadi": [0, 8, 11, 12, 23], "already_exist": 8, "also": [2, 5], "altern": 12, "although": 11, "altostrat": 8, "ambiti": 19, "amd64": [19, 22], "an": [2, 4, 5, 8, 11, 12, 14, 19, 21, 26, 32], "anaconda3": 4, "ani": [5, 8, 11, 22, 25, 26], "anonym": [5, 25], "anoth": [8, 12], "apach": 26, "aperture_devic": 26, "appear": 19, "appendix": 1, "applic": 26, "approach": 11, "appropri": 11, "apt": 22, "ar": [0, 1, 2, 5, 7, 11, 17, 18, 19, 23, 25], "architectur": 25, "arg": 8, "argoli": 12, "arrai": 19, "ascii": 8, "associ": 11, "assum": 0, "auth": 11, "authent": [8, 11, 25], "author": 11, "autom": 19, "automat": [5, 25], "avail": [0, 5, 17, 19, 22, 23], "averag": 5, "avg": 26, "b": [11, 26], "back": [5, 22], "backup": 5, "bandwidth": 26, "base": [0, 4, 25], "bash": [5, 11, 19, 22, 26], "bash_profil": 22, "bashrc": [5, 22], "basi": 26, "basic": 5, "batch": [19, 26], "becaus": [5, 25], "been": [0, 8, 23], "beginn": 2, "below": [0, 5, 19], "best": 11, "bin": [19, 22, 26], "blank": 5, "bless": 2, "block": 25, "blueprint": [22, 25], "bm": 6, "both": [2, 5, 25], "bound": 26, "bq": 5, "branch": 22, "broadcast": 26, "broadcast_perf": 26, "bu": 26, "bucket": 25, "bui": 1, "build": [2, 25], "builddir": 26, "built": [0, 22], "bundl": 5, "busbw": 26, "bwwjrhcmeto": 32, "byte": 25, "c": [11, 22, 26], "cach": 11, "call": [8, 21], "can": [0, 5, 8, 11, 18, 19, 25, 26], "cannot": [8, 11], "capabl": 2, "case": [8, 11, 17], "cat": [0, 19, 26], "caus": 11, "cc": 26, "cd": [0, 19, 22, 25, 26], "censu": 22, "cg": [19, 26], "chang": [5, 8, 19, 26], "channel": [4, 5], "chapter": 0, "charact": 8, "chatgpt": 2, "cheat": 8, "check": [11, 18, 26], "checksum": 19, "child": 26, "chmod": 19, "choic": 8, "choos": 5, "chose": 8, "chrome": 0, "clean": 0, "cli": [5, 6, 12, 22], "client": [14, 19], "clone": 26, "cloud": [2, 9, 11, 21, 22, 25, 31], "cloudapi": 12, "cloudresourcemanag": 12, "cloudsdk": 5, "cluster": [11, 16, 18, 19, 26, 31], "cmd": 22, "cod": 26, "code": 8, "collect": [4, 5], "color": 22, "com": [5, 6, 8, 12, 14, 15, 16, 19, 21, 22, 26], "come": 5, "command": [0, 8, 11, 12, 14, 17, 18, 25], "commit": [0, 22], "common": [17, 26], "commun": 22, "compil": 26, "complet": [5, 19, 22, 25, 26], "complianc": 26, "compon": 25, "comprehens": 2, "compress": [25, 26], "comput": [6, 14, 32], "concept": 14, "conda": 0, "condit": 26, "config": [5, 6, 8], "configur": [0, 8, 11, 25], "confirm": 11, "conflict": 11, "confus": 8, "connect": [5, 17, 25, 31], "consequ": 2, "consid": 0, "consist": 14, "consol": [5, 9], "constraint": 32, "contact": [11, 19], "contain": [0, 2, 8, 26], "container_imag": 26, "container_mount": 26, "content": 2, "continu": 5, "contribut": 22, "control": [11, 17, 19, 23, 25, 26], "convert": 25, "copi": 26, "copyright": 26, "core": 5, "correct": 11, "correctli": [11, 19], "could": 22, "count": 26, "cover": 14, "cp": 12, "cpu": [19, 25], "crash": 5, "crc32c": 5, "creat": [0, 1, 2, 3, 5, 6, 7, 8, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 27, 28, 29, 30, 31], "creation": [0, 8, 12], "credenti": 11, "cu": 26, "curl": 5, "current": [5, 8, 17, 19, 26, 32], "curs": 2, "custom": 25, "cxx": 26, "d": [15, 16, 26], "d715f14f9eca81473d9112df50457893aa4d099adeb4729f679006bf5ea12407": 19, "daemon": 19, "data": [5, 25], "date": 2, "deactiv": 4, "debug": [17, 19, 23, 26], "debugnodeset": [17, 19, 23], "dedic": 0, "default": [4, 8], "delta": 26, "depend": 25, "deploi": 0, "deploy": [2, 21, 22, 23, 25], "describ": 6, "design": [2, 11], "destroi": 22, "detail": [0, 6, 12, 21], "dev": [22, 26], "develop": [5, 14], "devic": 25, "differ": 19, "digest": 19, "digit": 8, "directli": 5, "directori": [0, 22, 25, 26], "disabl": [22, 26], "disable_usage_report": 5, "displai": 17, "distribut": [19, 26], "dkr_ex": 19, "dl": [5, 22], "dload": 5, "do": [5, 7, 11, 18], "doc": [2, 5, 6, 12, 15, 16, 19, 21, 22, 26], "docker": [14, 25], "document": [14, 23, 31], "doesn": 11, "done": [4, 12, 22, 26], "doubl": [11, 26], "down": [17, 26], "download": [4, 19, 22, 25, 26], "drain": 17, "duplic": 25, "e": [0, 11, 26], "e6590344b1a5": 19, "each": [1, 17], "echo": 19, "edit": [15, 16], "effect": 5, "effici": 14, "eight": 25, "either": [0, 26], "element": 26, "enabl": [5, 11, 12], "encount": [2, 5], "end": 2, "engin": [6, 11], "enp0s12": 26, "enp134s0": 26, "enp135s0": 26, "enp13s0": 26, "enp141s0": 26, "enp142s0": 26, "enp14s0": 26, "enp6s0": 26, "enp7s0": 26, "enroot": 26, "ensur": 11, "enter": [4, 5, 8, 26], "entir": 5, "entiti": 8, "enumer": [22, 26], "env": [4, 26], "environ": [0, 11, 21, 22, 25, 26], "environm": 25, "eof": 32, "epilog": 25, "err": 19, "err_": 19, "err_1791_001": 19, "err_1791_002": 19, "err_1791_003": 19, "err_1791_004": 19, "err_1791_005": 19, "err_1791_006": 19, "err_1791_007": 19, "err_1791_008": 19, "err_1791_009": 19, "err_1791_010": 19, "error": [5, 8, 12, 19, 22], "essenti": 31, "etag": 32, "even": [2, 11], "evolv": 2, "exampl": [0, 5, 11, 14, 18, 19, 22], "except": [2, 26], "execut": [0, 4, 19], "exemplifi": 2, "exist": [8, 11, 19, 32], "expand": 22, "explain": 14, "export": [22, 25, 26], "express": 26, "extract": [4, 25], "f": [0, 11, 19, 26], "fail": [12, 26], "failur": 11, "fals": 5, "fault": 14, "featur": 8, "fetch": 25, "fifo": 25, "figur": 17, "file": [0, 5, 8, 19, 22, 25, 26, 32], "filestor": 25, "filesystem": 25, "find": [19, 22], "finish": [12, 19], "first": [16, 17, 22], "fix": 17, "flag": 22, "flexibl": 22, "float": 26, "folder": [0, 23], "follow": [0, 5, 17, 18, 19, 26], "forg": 4, "format": [0, 6, 8], "found": [5, 25], "four": 19, "fragment": 25, "free": 19, "frequent": 14, "from": [5, 7, 8, 19, 22, 26], "full": [5, 22], "function": 26, "futur": 5, "g": [0, 11, 26], "g202c46da999_0_7": 15, "g27150d40359_0_149": 16, "g2e507966803_2_29": 16, "gather": 26, "gather_perf": 26, "gb": [25, 26], "gce": 11, "gcloud": [6, 12, 32], "gcluster": 22, "ge727f261": 22, "genai": 2, "gener": [0, 11, 13, 19, 22], "get": [2, 5, 8, 19], "getter": 22, "ghp": 0, "ghpc": 22, "gid": 25, "git": [0, 22, 26], "github": [0, 8, 14, 26], "gnu": 26, "go": [8, 25, 26], "go1": 22, "googl": [2, 11, 15, 16, 22, 26, 31], "googleapi": 12, "googlecloudplatform": [13, 14, 21, 22], "govern": 26, "gpu": [25, 26], "gpudirect": 26, "grab": 26, "grant": 25, "graphic": 5, "group": 22, "gsc": [6, 11], "gsutil": [5, 7], "gui": 5, "guid": [2, 6, 12, 14, 31], "gz": [5, 22], "h": 22, "h100": 25, "ha": [0, 2, 8, 11, 23, 25], "handl": [0, 5, 25], "happi": 0, "hard": 25, "hashicorp": 22, "have": [11, 25], "he": 11, "health": 17, "hello": 19, "help": [5, 8, 22], "here": [11, 26], "high": [14, 25], "highli": 14, "home": [4, 5, 25], "host": [25, 26], "host_var": 26, "hostnam": [11, 20, 24], "how": [5, 8, 11], "howev": 11, "hpc": [6, 11, 14], "html": [0, 14], "http": [0, 5, 6, 12, 14, 15, 16, 19, 21, 22, 26], "httperror": 8, "hub": 19, "hurdl": 2, "hypercub": 26, "hypercube_perf": 26, "hyphen": 8, "i": [0, 2, 5, 8, 11, 12, 14, 16, 17, 18, 19, 21, 22, 26], "id": [5, 8, 12, 15, 16, 19, 25], "idea": 19, "idl": [17, 19, 23], "imag": [19, 25, 26], "impli": 26, "import": [0, 22, 25], "improv": 5, "includ": [2, 5, 26], "index": [0, 17], "indic": 18, "individu": [8, 11], "infinipod": 31, "infinit": [17, 19, 23], "info": [6, 22, 25, 26], "inform": [2, 5, 17, 18, 22], "ing": 16, "init": [11, 26], "initi": [5, 11], "inod": 25, "input": 22, "insid": 26, "instal": [11, 19, 22, 25], "instanc": 11, "instruct": [0, 5, 22], "instrument": 22, "integr": 2, "interact": 8, "interfac": [5, 6, 22], "introduc": 14, "introduct": 31, "invok": 26, "involv": 0, "io": [0, 25], "isn": 11, "issu": 11, "iter": 26, "its": 2, "j": 26, "jb": 0, "jb_clean_build": 0, "jb_git_push": 0, "jb_publish": 0, "jl": 0, "job": [14, 17, 18, 19, 25, 26], "jobid": [18, 19, 20, 24, 26], "json": 4, "jupyterlab": 0, "just": 11, "k2wlnoz84nyc7snltwnn7q": [15, 16], "kbyte": 25, "kei": 6, "key_filenam": 11, "kib": 26, "kind": [16, 26], "know": 5, "l": [19, 22, 25, 26], "lab": 0, "languag": 26, "larg": 14, "later": [8, 19], "latest": [2, 19], "launch": [0, 5, 25], "law": 26, "layer": [19, 25], "ld_library_path": 26, "lead": 11, "learn": [2, 8, 22, 31], "leav": [5, 26], "left": 5, "length": 8, "less": 26, "letter": 8, "level": 11, "lib": 26, "lib64": 26, "libnccl": 25, "librari": 19, "licens": [22, 26], "like": [5, 8, 11], "limit": 26, "line": [5, 6, 8], "link": [25, 26], "linux": [4, 5, 18, 22, 26], "list": [1, 2, 6, 25], "listpolici": 32, "llc": 26, "local": [0, 5, 11, 19, 22], "locat": 4, "log": [11, 22], "login": [6, 25], "look": 5, "lower": 8, "lowercas": 8, "lzo": 25, "m": 0, "machin": [2, 5, 11, 22, 31], "mai": [5, 26], "main": 22, "maintan": 2, "make": [5, 8, 11, 12, 22, 25, 26], "makefil": 22, "manag": [0, 2, 5, 11, 12, 18, 25, 32], "mani": 2, "manifest": 25, "manual": 11, "map": 26, "mb": 22, "mbyte": 25, "md": 22, "mean": 11, "meant": 18, "meg": 18, "megagpu": 25, "mem": [19, 26], "memori": 25, "messag": [5, 8, 19], "metadata": [4, 11, 25], "method": 11, "mfgy9s81ksrehzcwn8fq0u85ngzdttvur3owyoa": [15, 16], "mib": 26, "minut": 26, "miss": 25, "mistak": 11, "mix": 17, "mkdir": 19, "mksquashf": 25, "ml": 21, "mod": 22, "model": 2, "modifi": [0, 5, 26], "modul": 22, "mon": [14, 15, 16, 18, 19, 20, 21, 22], "more": [0, 5, 6, 8, 12, 17, 19, 21, 22, 25], "most": 11, "mount": 26, "move": 23, "mpi": 26, "mpicc": 26, "mpicxx": 26, "multipl": [8, 14], "must": [8, 11, 17, 25], "my": [8, 19], "n": [0, 4, 5, 7, 20, 24, 25, 26], "name": [6, 8, 12, 17, 18, 19, 20, 24, 25, 26], "nano": [19, 22], "nccl_debug": 26, "nccl_debug_subsi": 26, "nccl_fastrak_ctrl_dev": 26, "nccl_fastrak_ifnam": 26, "nccl_fastrak_llcm_device_directori": 26, "nccl_lib_dir": 26, "nccl_socket_ifnam": 26, "necessari": [8, 11, 22], "need": [11, 26], "nemo": 18, "net": [25, 26], "network": 25, "new": [5, 8, 19, 22], "newer": 19, "next": [8, 23, 26], "nic0": 11, "node": [14, 18, 19, 20, 23, 24, 25, 26], "nodelist": [17, 18, 19, 20, 23, 24, 26], "none": 26, "note": [0, 5, 8, 19, 26], "notic": [4, 5, 7, 26], "now": [2, 5, 11, 18], "ntask": [19, 26], "number": [17, 25], "numer": 8, "nvcr": 25, "nvidia": [25, 26], "o": [5, 6, 25, 26], "object": [22, 26], "obtain": 26, "occur": 5, "offer": 25, "offici": [12, 14, 22, 23], "often": 2, "ok": 26, "older": 11, "one": [0, 11, 17, 25], "onli": [8, 26], "onlin": 0, "open": [0, 5, 14, 21], "openai": 2, "opencensu": 22, "oper": 12, "oppos": 25, "opt": [5, 7], "option": [0, 14, 26], "order": 25, "org": [26, 32], "organ": 0, "oslogin": [6, 11], "other": [8, 19], "otherwis": [5, 22, 26], "our": [5, 14], "out": [2, 17, 19, 26], "out_": 19, "out_1791_001": 19, "out_1791_002": 19, "out_1791_003": 19, "out_1791_004": 19, "out_1791_005": 19, "out_1791_006": 19, "out_1791_007": 19, "out_1791_008": 19, "out_1791_009": 19, "out_1791_010": 19, "output": [5, 22], "over": 26, "overal": 5, "overview": 6, "own": 2, "p": 0, "p2": 12, "pack": 26, "packag": 4, "packer": 22, "page": 14, "pair": 11, "parallel": 25, "paramet": 26, "part": [0, 5, 14, 23, 25], "partial": 17, "partit": [17, 18, 19, 20, 23, 24, 26], "pass": 26, "path": [5, 22, 25], "pdf": 0, "per": [19, 25, 26], "perform": [14, 25], "permiss": [25, 26], "pick": 8, "pkg": 22, "place": 26, "plan": 4, "platform": [2, 4, 5, 8, 22], "pleas": [5, 8, 12], "plethora": 2, "plugin": 26, "pmi2": 26, "polici": [5, 32], "practic": 31, "pre": 11, "preinstal": 5, "prepar": 4, "prerequisit": 0, "present": [15, 16], "previou": [0, 22], "privaci": 5, "privat": 25, "problem": [17, 19], "proce": 4, "procedur": 25, "process": [0, 25], "processor": 25, "produc": 19, "product": [2, 5], "profil": [5, 26], "programm": 0, "progress": 12, "project": [5, 6, 8, 32], "project_id": [6, 32], "prolog": 25, "prompt": [0, 5], "proto": 22, "provid": [1, 2, 5, 22, 31], "provis": 25, "public": 11, "pull": [0, 19], "pwd": 26, "py3": [25, 26], "python3": 5, "pytorch": [25, 26], "pyxi": 26, "q": 5, "qualiti": 5, "queri": 25, "queu": 18, "queue": 18, "quick": [0, 14], "quickli": [25, 26], "quickstart": [5, 14, 21], "r": [18, 19, 20, 24, 26], "ran": 25, "rapid": 5, "rc": 5, "re": [5, 8, 11, 22], "reach": 17, "read": [1, 19, 26], "readi": 8, "readm": 22, "reason": [18, 19, 20, 24, 26], "recal": 18, "receiv": [5, 25, 26], "recommend": [2, 11], "redop": 26, "reduc": 26, "reduce_perf": 26, "reduce_scatt": 26, "reduce_scatter_perf": 26, "refer": 12, "registri": 25, "relaunch": 5, "releas": 22, "relev": 23, "remot": [11, 22, 26], "remov": [6, 25], "replac": 32, "repodata": 4, "repositori": [14, 26], "request": 8, "requir": [8, 26], "requireshieldedvm": 32, "reserv": 25, "resolv": 26, "resouc": 12, "resourc": [5, 11, 22, 32], "resourcekei": [15, 16], "respond": 17, "rest": 26, "restart": 5, "retriev": 4, "reus": 26, "rise": 2, "role": 11, "root": [25, 26], "roster": 8, "rsa": 11, "run": [0, 5, 8, 11, 16, 22, 23, 25], "rxdm": 25, "said": 5, "same": [0, 19, 26], "sampl": 2, "sat": [17, 29], "save": [19, 22], "sbatch": 26, "sc2001": 26, "scalabl": 14, "scatter": 26, "scatter_perf": 26, "scenario": 11, "schedmd": 14, "schedul": [14, 18], "scientif": 14, "script": [19, 22], "second": [18, 20, 24], "secret": 0, "section": [0, 23], "secur": [0, 22], "sed": 26, "see": [0, 6, 8, 17, 19, 21, 22, 26], "select": 8, "sendrecv": 26, "sendrecv_perf": 26, "sent": 19, "separ": 0, "serv": 2, "server": 11, "servic": [5, 8, 11, 12], "session": 0, "set": [5, 6, 8, 25, 26, 32], "sever": [1, 2, 17, 20, 24, 25], "sh": [0, 5], "sha256": 19, "share": 19, "sheet": 8, "shell": [5, 6], "shellcheck": 26, "should": [5, 11, 18, 23, 25, 26], "show": [1, 18, 19], "sidecar": 25, "sign": 8, "simpl": [19, 22], "simplifi": 21, "sinfo": [16, 19, 23], "singl": 2, "situat": 17, "size": [25, 26], "skip": [8, 23], "slide": [15, 16], "slurm": [11, 16, 17, 18, 19, 21, 26, 31], "slurm0a3p": [17, 18], "slurm_nnod": 26, "slurmstepd": 26, "small": [11, 14], "so": [14, 25], "socket": 25, "softwar": 26, "solut": 0, "solv": 4, "some": [2, 8], "someth": 19, "sometim": 11, "sourc": [2, 14, 21, 26], "spank": 26, "specif": [14, 26], "specifi": 12, "speed": 5, "spent": 5, "sqsh": [25, 26], "squashf": [25, 26], "squeue": [19, 20, 24, 26], "src": 26, "srun": [19, 24, 25, 26], "ssh": [6, 16, 31], "st": [18, 19, 20, 24, 26], "stack": 26, "stacktrac": 5, "start": [0, 2, 5, 8, 14, 19], "state": [17, 19, 23], "statist": 5, "statu": [8, 18, 19, 26], "step": [0, 8, 19, 23, 26], "still": 11, "stop": 22, "storag": 25, "stream": 19, "streamlin": 2, "structur": 0, "stuff": 8, "sub": [0, 2, 23], "submit": [18, 19], "succeed": 25, "successfulli": 12, "sudo": 22, "suffici": 11, "suit": 5, "sum": 22, "sumit": 18, "summari": [14, 16], "sun": [0, 5, 6, 7, 8, 11], "support": [2, 5, 14], "sure": [8, 11], "switch": 8, "symbol": 25, "synopsi": 1, "synpsi": 1, "system": [11, 14, 17, 18], "t": [11, 22], "tabl": [0, 2, 25], "take": [5, 8], "taken": [17, 18], "tar": [5, 22], "target": 5, "task": 19, "tcpxo": 26, "tee": 19, "term": 5, "termin": [0, 5, 19, 22, 26], "terraform": 22, "test": 22, "test_job": 19, "than": [0, 25, 26], "thei": 11, "thekim": [4, 5, 8, 11, 12], "thekim_g": [18, 19, 20, 24, 26], "thekim_google_com": [17, 19, 23, 25, 26], "them": 1, "therefor": 5, "thi": [2, 4, 5, 8, 11, 14, 19, 22, 23, 25, 26, 31], "thing": 8, "thought": 2, "three": [0, 14, 17], "through": [8, 11], "time": [5, 18, 19, 20, 24, 26], "timelimit": [17, 19, 23], "timer": 26, "tmp": 26, "token": 0, "toler": 14, "too": 26, "took": 19, "tool": [5, 21, 22], "toolkit": [6, 11, 25, 26, 31], "topic": [1, 2, 8], "total": [5, 26], "tradit": 2, "train": 2, "transact": 4, "tree": [22, 26], "troubleshoot": [6, 11], "truth": 2, "try": [8, 11, 12, 19], "tue": [2, 3, 4, 5, 6, 7, 8, 9, 12, 13, 23, 24, 25, 26, 27, 28, 29, 30, 31], "tutori": [2, 22], "two": [14, 26], "txt": 19, "type": 26, "typic": [17, 18], "typo": 11, "u": 26, "ubuntu": 19, "uid": 25, "unabl": 19, "unavail": 17, "uncompress": 25, "under": 26, "undoubtedli": 2, "unforn": 2, "uniqu": [12, 25], "unix": 5, "unless": [11, 26], "unoffici": 2, "up": [2, 5, 8, 17, 19, 23, 25, 26], "updat": [1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32], "upgrad": 7, "upload": 5, "us": [0, 4, 5, 8, 9, 11, 12, 17, 22, 25, 26], "usag": [5, 22, 26], "user": [5, 11, 18, 19, 20, 24, 25, 26], "usernam": 11, "usr": [22, 26], "v": [11, 17, 22], "v0": 22, "v1": [12, 22], "valu": [6, 22, 26], "var": 26, "variabl": [0, 25, 26], "variou": 5, "verifi": [4, 11, 19, 26], "version": [5, 22, 26], "vertex": [0, 1, 4, 5, 12], "via": 31, "video": 2, "view": 0, "virtual": 25, "visibl": 5, "visit": [5, 19, 22], "vm": 31, "w": 26, "wa": [11, 21], "wai": [0, 5, 11], "wait": 12, "want": [5, 7], "warn": [8, 22], "warranti": 26, "we": [5, 25, 26], "wed": [0, 1, 2, 3, 4, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 31], "welcom": [5, 8], "well": 2, "wget": 22, "what": [5, 11, 18], "when": [5, 25], "where": 25, "which": [2, 17, 19, 25], "whiteout": 25, "why": 18, "within": [5, 11], "without": 11, "work": [8, 19, 22, 26], "worker": [18, 23], "workflow": [2, 19], "workload": [14, 26], "workstat": 6, "world": 19, "would": [11, 26], "write": [0, 26], "wrong": 26, "www": 26, "x": [19, 26], "x86_64": [5, 26], "xattr": 25, "xf": 5, "xferd": 5, "xzf": 22, "y": [4, 5, 7, 22], "you": [5, 7, 8, 11, 12, 19, 25, 26], "your": [0, 2, 5, 8, 11, 19, 22, 25, 26], "your_account": 0, "yourself": 11, "z": 8, "zone": 6}, "titles": ["A Practical Guide to Machine Learning with Google Cloud (WIP)", "TODO", "1. Introduction", "2. Set up the Environment", "2-1. Conda Environment: Create and Activate", "2.2. Install Google Cloud SDK", "2-3. Start using the Google Cloud SDK", "2-4. Update Google Cloud SDK", "2_5. Initialize the Google Cloud SDK (gcloud CLI)", "2-6. Create a New Project", "2-7. Set the Billing Account for Project", "3. Connecting to a VM via SSH", "2-3. Create a New Project", "4. Getting Started with Vertex AI", "5. Slurm Essentials for Cluster Toolkit and Vertex AI Infinipod", "5.1. Getting Started with a Slurm Cluster", "5.2. Frequently Used Client Commands", "5.3. sinfo", "5.4. squeue", "5.5. sbatch", "5.6. srun", "6. Google Cluster Toolkit", "6.1. Getting Started with Cluster Toolkit", "Deploy the HPC cluster using Terraform", "6.3. Run a job on the HPC cluster", "6.4. Deploy AI/ML Workloads on A3 Mega Slurm Cluster", "6.5. Run NCCL test", "6.6.", "6.3.", "4. Serving LLMs", "Test", "Vertex AI", "&lt;no title&gt;"], "titleterms": {"1": [0, 2, 4, 15, 22], "16": 17, "2": [0, 3, 4, 5, 6, 7, 9, 10, 12, 16], "2_5": 8, "3": [0, 6, 11, 12, 17, 24, 28], "32": 17, "4": [0, 7, 13, 18, 25, 29], "5": [14, 15, 16, 17, 18, 19, 20, 26], "6": [9, 20, 21, 22, 24, 25, 26, 27, 28], "64": 17, "7": 10, "A": 0, "a3": 25, "account": 10, "action": [22, 26], "activ": 4, "add": 11, "ai": [2, 13, 14, 25, 31], "alreadi": 5, "an": [17, 22, 25], "been": 5, "bill": 10, "binari": [22, 26], "book": [0, 1], "build": [0, 22, 26], "chang": 0, "check": [5, 7, 19, 23], "classic": 2, "cli": 8, "client": 16, "clone": 22, "cloud": [0, 5, 6, 7, 8], "cluster": [14, 15, 17, 21, 22, 23, 24, 25], "command": [5, 6, 7, 16, 19, 22, 26], "commun": 25, "compon": 7, "comput": 11, "conda": 4, "condit": 17, "config": 11, "connect": 11, "contain": [19, 25], "content": [0, 31], "creat": [4, 9, 12, 25, 26], "current": 7, "deni": 11, "deploi": [22, 23, 25], "doc": 14, "docker": 19, "document": [0, 2], "doubl": [5, 7, 23], "download": 5, "editor": 26, "enabl": 25, "enough": 14, "enroot": 25, "environ": [3, 4, 31], "error": [11, 26], "essenti": 14, "exampl": [6, 8, 17], "fail": 8, "file": 11, "fix": 11, "formerli": 21, "frequent": 16, "gcloud": [5, 7, 8, 11], "gener": 2, "get": [13, 15, 22, 31], "github": 22, "go": 22, "googl": [0, 5, 6, 7, 8, 21], "google_compute_engin": 11, "gpudirect": 25, "guid": 0, "ha": 5, "healthi": 17, "hint": 12, "home": 11, "hostnam": 19, "hpc": [21, 22, 23, 24], "i": [23, 31], "idl": 18, "ii": 31, "iii": 31, "infinipod": 14, "init": 8, "initi": 8, "instal": 5, "introduc": 5, "introduct": 2, "job": 24, "jupyt": 0, "just": 14, "kei": 11, "keygen": 11, "languag": 22, "learn": 0, "linux": 14, "llm": [29, 31], "login": 11, "machin": 0, "manag": 14, "mega": 25, "ml": [2, 25], "nccl": [25, 26], "new": [4, 9, 12], "node": 17, "number": 7, "o": 11, "offici": [0, 2], "optim": 25, "output": [8, 19, 26], "overview": 25, "permiss": 11, "practic": 0, "prerequisit": [11, 22], "problem": 12, "program": 22, "project": [0, 9, 10, 11, 12], "project_id": 11, "pub": 11, "publickei": 11, "publish": 0, "purpos": [14, 31], "push": 0, "refer": 0, "remot": 0, "repositori": [0, 22], "resourc": [1, 2, 14], "run": [7, 19, 24, 26], "sampl": 26, "sbatch": 19, "scope": 14, "script": 26, "sdk": [5, 6, 7, 8], "see": 23, "serv": [29, 31], "set": [0, 3, 10, 31], "sh": [19, 26], "simpl": 14, "sinfo": 17, "slurm": [14, 15, 22, 23, 25], "squeue": 18, "srun": 20, "ssh": 11, "start": [6, 13, 15, 22, 31], "submit": 26, "tabl": 31, "tcpxo": 25, "terraform": 23, "test": [19, 26, 30], "text": 26, "thi": 0, "todo": [1, 12], "toolkit": [14, 21, 22], "train": 25, "unhealthi": 17, "up": [0, 3, 31], "updat": [0, 7], "us": [1, 2, 6, 14, 16, 23], "user": 14, "util": 14, "version": 7, "vertex": [2, 8, 13, 14, 31], "via": 11, "vm": 11, "wip": 0, "without": 26, "worker": 17, "workload": 25}})